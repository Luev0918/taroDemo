"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[900],{5242:function(e,t,n){var r=n(7036),s=n(9501),a=n(1517),o=n(8037),i=n(5234),u=n(6553),c=n.n(u),l=n(2484),f=n(5271),p=n(1469),h=n(4532),d=n(2734),Z=n(8966),g=n(2676),v=function(){var e=(0,f.useState)({keyword:"",tagId:0,diskType:0,page:1,limit:10}),t=(0,i.Z)(e,2),n=t[0],r=t[1];(0,u.useLoad)((function(e){for(var t in e)n[t]=e[t];r((0,o.Z)({},n))}));var v=(0,f.useState)({list:[],total:0}),x=(0,i.Z)(v,2),w=x[0],k=x[1],m=(0,f.useState)(!1),S=(0,i.Z)(m,2),T=S[0],b=S[1],j=(0,f.useState)(!1),R=(0,i.Z)(j,2),L=R[0],y=R[1],J=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c().showLoading({title:"\u52a0\u8f7d\u4e2d..."}),!T){e.next=4;break}return c().showToast({title:"\u6ca1\u6709\u66f4\u591a\u7684\u6570\u636e\u4e86",icon:"none"}),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,p._)(n);case 7:t=e.sent,0===t.data.list.length?y(!0):k((function(e){return(0,o.Z)((0,o.Z)({},e),{},{list:e.list.concat(t.data.list),total:t.data.total})})),w.list.length<w.total?r((function(e){return(0,o.Z)((0,o.Z)({},e),{},{page:e.page+1})})):b(!0),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),console.error("\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff1a",e.t0);case 15:return e.prev=15,c().hideLoading(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){J()}),[]);var N,O=(0,f.useState)(!1),E=(0,i.Z)(O,2),I=E[0],_=E[1],B=function(){_(!0),r((function(e){return(0,o.Z)((0,o.Z)({},e),{},{page:1})})),k({list:[],total:0}),b(!1),J(),setTimeout((function(){_(!1)}),1e3)};return(0,u.useLoad)((function(e){N=e})),(0,g.jsxs)(l.G7,{className:"searchResult",children:[JSON.stringify(N),L?(0,g.jsx)(h.Z,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.pf,{className:"scroll scroll-view",scrollY:!0,refresherEnabled:!0,onRefresherRefresh:B,refresherTriggered:I,onScrollToLower:J,children:w.list.map((function(e){return(0,g.jsx)(d.Z,{resource:e},e.pkId)}))}),(0,g.jsx)(Z._U,{status:T?"noMore":"more"})]})]})},x=v,w={navigationBarTitleText:"\u641c\u7d22\u7ed3\u679c"};Page((0,r.R4)(x,"pages/searchResult/searchResult",{root:{cn:[]}},w||{}))}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[107,216,592],(function(){return t(5242)}));e.O()}]);